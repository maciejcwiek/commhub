!function(a,b){function c(){if(h.debug){var a=arguments;if("object"==typeof a){var b=null;a=[];for(b in arguments)arguments.hasOwnProperty(b)&&a.push(arguments[b])}a.reverse(),a.push(h.logPrefix),a.reverse(),console.log.apply(console,a)}}function d(a){a=a||{},h.debug="boolean"==typeof a.verbose?a.verbose:!1}function e(a){return f=f instanceof d?f:new d(a)}var f={},g={},h={debug:!1,logPrefix:"[EventRouter]"};d.prototype.setRoutes=function(a){g=a||{}},d.prototype.route=function(a,b,d){try{var e=g[a];if(e&&e.disabled)return c("Routing disabled for event:",a,"- invoking handler directly."),void d(b);e.call({},b,function(e){d(e||b),c("Routing done for event:",a)})}catch(f){c("Route not found for event:",a,"- invoking handler directly."),d(b)}},d.prototype.toggleRoute=function(a,b){b="boolean"==typeof b?b:!0;try{g[a].disabled=!b}catch(c){throw"Can't disable routing for event: "+a+" - no route defined for this event."}},d.prototype.reset=function(){g={}},a.EventRouter=e}(GLOBAL);